(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{34:function(e,t,n){e.exports=n(64)},39:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),r=n(31),i=n.n(r),o=(n(39),n(7)),c=n(2),s=n(3),u=n(5),m=n(4),p=n(6),h=n(1),d=n.n(h),g=n(13),E=(n(57),n(14)),f=(n(58),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault(),d.a.post("".concat("/api","/trips"),{theTitle:n.state.newTitle,theDescription:n.state.newDescription},{withCredentials:!0}).then(function(){n.props.getData(),n.setState({newTitle:"",newDescription:""})}).catch(function(e){return console.log(e)})},n.handleChange=function(e){var t=e.target,a=t.name,l=t.value;n.setState(Object(o.a)({},a,l))},n.state={newTitle:"",newDescription:""},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"add-trip"},l.a.createElement("form",{onSubmit:this.handleFormSubmit},l.a.createElement("label",null,"Title:"),l.a.createElement("br",null),l.a.createElement("input",{type:"text",name:"newTitle",value:this.state.newTitle,onChange:function(t){return e.handleChange(t)}}),l.a.createElement("br",null),l.a.createElement("label",null,"Description:"),l.a.createElement("br",null),l.a.createElement("textarea",{name:"newDescription",value:this.state.newDescription,onChange:function(t){return e.handleChange(t)}}),l.a.createElement("br",null),l.a.createElement("input",{type:"submit",value:"Submit"})))}}]),t}(a.Component)),b=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleFormSubmit=function(e){var t=n.state.title,a=n.state.description;e.preventDefault(),d.a.post("".concat("/api","/trips/update/").concat(n.props.theTrip._id),{theTitle:t,theDescription:a}).then(function(){n.props.getAllTheTripsInAppJS(),n.props.resetEditingSituation()}).catch(function(e){return console.log(e)})},n.handleChange=function(e){n.setState(Object(o.a)({},e.target.name,e.target.value))},n.state={title:n.props.theTrip.title,description:n.props.theTrip.description},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{style:{marginTop:"22.5px"}},l.a.createElement("form",{onSubmit:this.handleFormSubmit,style:{margin:"5px",padding:"5px"}},l.a.createElement("div",null,l.a.createElement("input",{style:{fontSize:"20px"},type:"text",name:"title",value:this.state.title,onChange:this.handleChange})),l.a.createElement("div",null,l.a.createElement("textarea",{name:"description",value:this.state.description,onChange:this.handleChange})),l.a.createElement("input",{type:"submit",value:"Submit"})))}}]),t}(a.Component),v=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).changeEditing=function(e){n.setState({editing:e})},n.resetEdit=function(){n.setState({editing:!1})},n.deleteTrip=function(e){d.a.delete("".concat("/api","/trips/").concat(e)).then(function(){n.props.getData()}).catch(function(e){console.log(e)})},n.showTrips=function(){if(n.props.theUser)return n.props.allTheTrips.filter(function(e){return e.owner===n.props.theUser._id}).map(function(e,t){return n.state.editing!==t?l.a.createElement("div",{key:e._id,className:"trip-box1"},l.a.createElement(E.b,{to:"/api/trips/".concat(e._id)},l.a.createElement("h3",null,e.title)),l.a.createElement("p",{style:{maxWidth:"400px"}}," ",e.description," "),l.a.createElement("button",{onClick:function(){n.changeEditing(t)}}," Edit "),l.a.createElement("button",{onClick:function(){n.deleteTrip(e._id)}}," Delete ")):l.a.createElement(b,{resetEditingSituation:n.resetEdit,theTrip:e,getAllTheTripsInAppJS:n.props.getData})});n.props.history.push("/")},n.state={editing:!1},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return this.props.ready?l.a.createElement("div",{className:"trip-main"},l.a.createElement("div",{className:"trip-column"},this.showTrips(),l.a.createElement("div",{className:"trip-box2"},l.a.createElement(f,{getData:this.props.getData})))):l.a.createElement("h3",null,"loading...")}}]),t}(a.Component),y=(n(63),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault(),d.a.post("".concat("/api","/clothing"),{theName:n.state.newName,theTrip:n.props.theTripToAddClothingTo}).then(function(){n.props.getData(),n.setState({newName:""})}).catch(function(e){return console.log(e)})},n.handleChange=function(e){var t=e.target,a=t.name,l=t.value;n.setState(Object(o.a)({},a,l))},n.state={newName:""},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("form",{onSubmit:this.handleFormSubmit},l.a.createElement("label",null," Clothing Name: "),l.a.createElement("br",null),l.a.createElement("input",{type:"text",name:"newName",value:this.state.newName,onChange:this.handleChange}),l.a.createElement("br",null),l.a.createElement("input",{type:"submit",value:"Add to List"})))}}]),t}(a.Component)),w=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleFormSubmit=function(e){var t=n.state.name;e.preventDefault(),d.a.post("".concat("/api","/clothing/update/").concat(n.props.theClothing._id),{theName:t}).then(function(){n.props.getAllTheTripsInAppJS(),n.props.resetEditingSituation()}).catch(function(e){return console.log(e)})},n.handleChange=function(e){n.setState(Object(o.a)({},e.target.name,e.target.value))},n.state={name:n.props.theClothing.name},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("form",{onSubmit:this.handleFormSubmit},l.a.createElement("div",null,l.a.createElement("input",{name:"name",value:this.state.name,onChange:this.handleChange}),l.a.createElement("br",null),l.a.createElement("input",{type:"submit",value:"Submit"}))))}}]),t}(a.Component),C=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault(),d.a.post("".concat("/api","/toiletries"),{theName:n.state.newName,theTrip:n.props.theTripToAddToiletriesTo}).then(function(){n.props.getData(),n.setState({newName:""})}).catch(function(e){return console.log(e)})},n.handleChange=function(e){var t=e.target,a=t.name,l=t.value;n.setState(Object(o.a)({},a,l))},n.state={newName:""},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("form",{onSubmit:this.handleFormSubmit},l.a.createElement("label",null," Add Toiletries : "),l.a.createElement("br",null),l.a.createElement("input",{type:"text",name:"newName",value:this.state.newName,onChange:this.handleChange}),l.a.createElement("br",null),l.a.createElement("input",{type:"submit",value:"Add to List"})))}}]),t}(a.Component),j=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault(),d.a.post("".concat("/api","/electronics"),{theName:n.state.newName,theTrip:n.props.theTripToAddElectronicsTo}).then(function(){n.props.getData(),n.setState({newName:""})}).catch(function(e){return console.log(e)})},n.handleChange=function(e){var t=e.target,a=t.name,l=t.value;n.setState(Object(o.a)({},a,l))},n.state={newName:""},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("form",{onSubmit:this.handleFormSubmit},l.a.createElement("label",null," Add Electronics : "),l.a.createElement("br",null),l.a.createElement("input",{type:"text",name:"newName",value:this.state.newName,onChange:this.handleChange}),l.a.createElement("br",null),l.a.createElement("input",{type:"submit",value:"Add to List"})))}}]),t}(a.Component),T=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleChangeCity=function(e){e.preventDefault(),n.setState({searchCity:e.target.value},function(){console.log(n.state.searchCity),n.getLatLong(),n.getForecast()})},n.handleChangeCountry=function(e){e.preventDefault(),n.setState({searchCountry:e.target.value},function(){console.log(n.state.searchCountry),n.getLatLong(),n.getForecast()})},n.getLatLong=function(){d.a.get("https://maps.googleapis.com/maps/api/geocode/json?address=Miami,+US&key=AIzaSyDkgfr2SrXtnYOzlJ2srEoDGcGe13A5zfs").then(function(e){console.log("All the data",e),n.setState({latitude:e.data.results[0].geometry.location.lat}),n.setState({longitude:e.data.results[0].geometry.location.lng})}).catch(function(e){console.log(e)})},n.getForecast=function(){d.a.get("https://darksky.net/widget/default/".concat(n.state.latitude,",").concat(n.state.longitude,"/us12/en.js")).then(function(e){n.setState({forecast:"https://darksky.net/widget/default/".concat(n.state.latitude,",").concat(n.state.longitude,"/us12/en.js")}),console.log(n.state.forecast)}).catch(function(e){console.log(e)})},n.resetEdit=function(){n.setState({editing:!1})},n.edit=function(e){n.setState({editing:e})},n.deleteClothing=function(e){d.a.delete("".concat("/api","/clothing/")+e).then(function(){n.props.getData()}).catch(function(e){console.log(e)})},n.deleteToiletries=function(e){d.a.delete("".concat("/api","0/toiletries/")+e).then(function(){n.props.getData()}).catch(function(e){console.log(e)})},n.deleteElectronics=function(e){d.a.delete("".concat("/api","/electronics/")+e).then(function(){n.props.getData()}).catch(function(e){console.log(e)})},n.state={editing:!1,searchCity:"",searchCountry:"",latitude:"",longitude:"",forecast:""},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.getLatLong(),this.getForecast();var e=document.createElement("script");e.src="https://darksky.net/widget/default/".concat(this.state.latitude,",").concat(this.state.longitude,"/us12/en.js"),e.async=!0,document.body.appendChild(e)}},{key:"render",value:function(){var e=this,t=this.props.allTheTrips,n=this.props.match.params.theID,a=t.find(function(e){return e._id===n});return this.props.ready?l.a.createElement("div",{style:{paddingTop:"20px"}},l.a.createElement("div",{className:"morph-bar"},l.a.createElement("div",null,l.a.createElement("div",{className:"details-text"},l.a.createElement("div",{className:"trip-details"},l.a.createElement("span",null,l.a.createElement("h2",null," ",a.title," "),l.a.createElement("h5",null," ",a.description," ")))),l.a.createElement("div",{className:"details-text"},l.a.createElement("div",{className:"lat-lng-search"},l.a.createElement("form",{id:"location-form"},l.a.createElement("input",{type:"text",id:"location-input",className:"form-control form-control-lg",onChange:this.handleChangeCity,value:this.state.searchCity,placeholder:"Enter City"}),l.a.createElement("br",null),l.a.createElement("input",{type:"text",id:"location-input",className:"form-control form-control-lg",onChange:this.handleChangeCountry,value:this.state.searchCountry,placeholder:"Enter Country"}))),l.a.createElement("div",{className:"coordinates"},l.a.createElement("p",null,"Latitude  : ",e.state.latitude),l.a.createElement("p",null,"Longitude : ",e.state.longitude))),l.a.createElement("hr",null),l.a.createElement("div",{className:"center center-div"},l.a.createElement("a",{href:!0,src:"https://chrome.google.com/webstore/detail/allow-control-allow-origi/nlfbmbojpeacfghkpbjhddihlkkiljbi"}," Forecast not showing? Try this chrome extension - https://chrome.google.com/webstore/detail/allow-control-allow-origi/nlfbmbojpeacfghkpbjhddihlkkiljbi ")),l.a.createElement("hr",null),l.a.createElement("div",{className:"center center-div"},l.a.createElement("p",null," We have been having technical difficulties with the Geocode API which fetches the location for our forecast feature. Please bear with us while Google work's with us to repair this feature. "))),l.a.createElement("div",{className:"weather-bar"},l.a.createElement("iframe",{style:{overflow:"hidden"},height:"600px",width:"600px",src:e.state.forecast}))),l.a.createElement("hr",null),l.a.createElement("div",{className:"item-columns"},l.a.createElement("div",{className:"item-column"},l.a.createElement("h3",null,"Clothing"),l.a.createElement("div",null,l.a.createElement("hr",null),a.clothing.length>0&&l.a.createElement("ul",{className:"list-format"},a.clothing.map(function(t,n){return e.state.editing!==n?l.a.createElement("li",null,l.a.createElement("div",{className:"list-and-btn"},l.a.createElement("div",null,l.a.createElement("p",null,t.name)),l.a.createElement("div",null,l.a.createElement("button",{onClick:function(){e.edit(n)}},"Edit"),l.a.createElement("button",{className:"delete-btn",onClick:function(){e.deleteClothing(t._id)}},"Delete")))):l.a.createElement(w,{theClothing:t,getAllTheTripsInAppJS:e.props.getData,resetEditingSituation:e.resetEdit})})),l.a.createElement("hr",null)),l.a.createElement("div",{className:"add-item"},l.a.createElement(y,{theTripToAddClothingTo:a._id,getData:this.props.getData}))),l.a.createElement("div",{className:"item-column"},l.a.createElement("h3",null,"Toiletries"),l.a.createElement("div",null,l.a.createElement("hr",null),a.toiletries.length>0&&l.a.createElement("ul",null,a.toiletries.map(function(t){return l.a.createElement("li",{key:t._id},l.a.createElement("div",{className:"list-and-btn"},l.a.createElement("div",null,l.a.createElement("p",null,t.name)),l.a.createElement("div",null,l.a.createElement("button",{className:"delete-btn",onClick:function(){e.deleteToiletries(t._id)}},"Delete"))))})),l.a.createElement("hr",null)),l.a.createElement("div",{className:"add-item"},l.a.createElement(C,{theTripToAddToiletriesTo:a._id,getData:this.props.getData}))),l.a.createElement("div",{className:"item-column"},l.a.createElement("h3",null,"Electronics"),l.a.createElement("div",null,l.a.createElement("hr",null),a.electronics.length>0&&l.a.createElement("ul",null,a.electronics.map(function(t){return l.a.createElement("li",{key:t._id},l.a.createElement("div",{className:"list-and-btn"},l.a.createElement("div",null,l.a.createElement("p",null,t.name)),l.a.createElement("p",null,l.a.createElement("button",{className:"delete-btn",onClick:function(){e.deleteElectronics(t._id)}},"Delete"))))})),l.a.createElement("hr",null)),l.a.createElement("div",{className:"add-item"},l.a.createElement(j,{theTripToAddElectronicsTo:a._id,getData:this.props.getData}))))):l.a.createElement("h3",null,"Loading...")}}]),t}(a.Component),O=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){n.setState(Object(o.a)({},e.target.name,e.target.value))},n.tryToSignUp=function(e){e.preventDefault();var t=n.state.usernameInput,a=n.state.passwordInput;d.a.post("".concat("/api","/auth/signup"),{username:t,password:a},{withCredentials:!0}).then(function(){n.props.getUser(),n.props.toggleForm("signup")})},n.hidePassword=function(){var e=document.getElementById("thePassword");"password"===e.type?e.type="text":e.type="password"},n.state={usernameInput:"",passwordInput:""},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("form",{className:"login-signup",onSubmit:this.tryToSignUp},l.a.createElement("h2",null,"Sign Up"),l.a.createElement("div",{className:"form-group"},l.a.createElement("legend",null,"Username"),l.a.createElement("input",{value:this.state.usernameInput,name:"usernameInput",className:"form-control input-lg",onChange:this.handleChange})),l.a.createElement("div",{className:"form-group"},l.a.createElement("legend",null,"Password"),l.a.createElement("input",{type:"password",value:this.state.passwordInput,id:"thePassword",name:"passwordInput",className:"form-control input-lg",onChange:this.handleChange})),l.a.createElement("div",null,l.a.createElement("button",{type:"submit",className:"btn btn-success btn-lg btn-block signup-btn"}," Submit ")))}}]),t}(a.Component),S=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){n.setState(Object(o.a)({},e.target.name,e.target.value))},n.tryToLogin=function(e){e.preventDefault();var t=n.state.usernameInput,a=n.state.passwordInput;d.a.post("".concat("/api","/auth/login"),{username:t,password:a},{withCredentials:!0}).then(function(){n.props.getUser(),n.props.toggleForm("login")})},n.hidePassword=function(){var e=document.getElementById("thePassword");"password"===e.type?e.type="text":e.type="password"},n.state={usernameInput:"",passwordInput:""},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("form",{className:"login-signup",onSubmit:this.tryToLogin},l.a.createElement("h2",null,"Log in"),l.a.createElement("div",{className:"form-group"},l.a.createElement("legend",null,"Username"),l.a.createElement("input",{value:this.state.usernameInput,name:"usernameInput",className:"form-control input-lg",onChange:this.handleChange})),l.a.createElement("div",{className:"form-group"},l.a.createElement("legend",null,"Password"),l.a.createElement("input",{type:"password",value:this.state.passwordInput,id:"thePassword",name:"passwordInput",className:"form-control input-lg",onChange:this.handleChange})),l.a.createElement("div",{className:"form-group center-it"},l.a.createElement("button",{type:"submit",className:"btn btn-success btn-lg btn-block signup-btn"}," Submit ")))}}]),t}(a.Component);var N=function(e){return l.a.createElement("nav",null,e.theUser&&l.a.createElement("span",null,l.a.createElement(E.b,{to:"/api/trips",style:{textDecoration:"none",color:"#00B7FF",margin:"10px"}}," My Trips ")),!e.theUser&&l.a.createElement("span",null,l.a.createElement("button",{onClick:function(){return e.toggleForm("login")}}," Login "),l.a.createElement("button",{onClick:function(){return e.toggleForm("signup")}}," Sign Up ")),e.theUser&&l.a.createElement("span",null,l.a.createElement("button",{onClick:function(){e.pleaseLogOut()}}," Log Out ")))};var k=function(e){return l.a.createElement("div",null,l.a.createElement("div",{className:"landing-page"},l.a.createElement("div",{className:"landing-text"},l.a.createElement("h2",null," Travelling is about experiencing new things, and being unprepared can mean missed opportunities. "),l.a.createElement("h2",null," Trip-Packer helps you generate a customizable packing checklists to make sure you don\u2019t miss a thing. "))),l.a.createElement("div",{className:"img-stripe"},l.a.createElement("img",{src:"/images/backgrounds/maldives.jpeg"}),l.a.createElement("img",{src:"/images/backgrounds/kyoto-yakasa-pagoda.jpg"}),l.a.createElement("img",{src:"/images/backgrounds/Torii-Gate1.jpg"}),l.a.createElement("img",{src:"/images/backgrounds/Fushimi Inari1.jpg"}),l.a.createElement("img",{src:"/images/backgrounds/broken-bay.jpg"})))},D=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).getAllTrips=function(){d.a.get("".concat("/api","/trips"),{withCredentials:!0}).then(function(e){n.setState({listOfTrips:e.data,ready:!0})})},n.getCurrentlyLoggedInUser=function(){d.a.get("".concat("/api","/auth/getcurrentuser"),{withCredentials:!0}).then(function(e){var t=e.data;return n.setState({currentlyLoggedIn:t}),t}).catch(function(){n.setState({currentlyLoggedIn:null})})},n.toggleForm=function(e){var t;t="signup"===e?"signupShowing":"loginShowing",n.setState(Object(o.a)({},t,!n.state[t]))},n.logout=function(){d.a.post("".concat("/api","/auth/logout"),{},{withCredentials:!0}).then(function(e){console.log(e),n.getCurrentlyLoggedInUser()}).catch(function(e){console.log(e)})},n.state={listOfTrips:[],currentlyLoggedIn:null,ready:!1,signupShowing:!1,loginShowing:!1},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.getAllTrips(),this.getCurrentlyLoggedInUser()}},{key:"render",value:function(){var e=this;return console.log("=-=-=-=-=-=-=-",this.state),l.a.createElement("div",null,l.a.createElement(N,{theUser:this.state.currentlyLoggedIn,pleaseLogOut:this.logout,toggleForm:this.toggleForm,getUser:this.getCurrentlyLoggedInUser}),this.state.signupShowing&&l.a.createElement(O,{getUser:this.getCurrentlyLoggedInUser,toggleForm:this.toggleForm}),this.state.loginShowing&&l.a.createElement(S,{getUser:this.getCurrentlyLoggedInUser,toggleForm:this.toggleForm}),l.a.createElement(g.a,{exact:!0,path:"/api/trips",render:function(){return l.a.createElement(k,null)}}),l.a.createElement(g.c,null,l.a.createElement(g.a,{exact:!0,path:"/api/trips",render:function(t){return l.a.createElement(v,Object.assign({},t,{allTheTrips:e.state.listOfTrips,getData:e.getAllTrips,ready:e.state.ready,theUser:e.state.currentlyLoggedIn}))}}),l.a.createElement(g.a,{exact:!0,path:"/api/trips/:theID",render:function(t){return l.a.createElement(T,Object.assign({},t,{allTheTrips:e.state.listOfTrips,ready:e.state.ready,getData:e.getAllTrips,theUser:e.state.currentlyLoggedIn}))}})))}}]),t}(l.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(l.a.createElement(E.a,null,l.a.createElement(D,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[34,1,2]]]);
//# sourceMappingURL=main.46444ec6.chunk.js.map