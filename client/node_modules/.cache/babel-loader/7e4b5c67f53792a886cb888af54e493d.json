{"ast":null,"code":"var _jsxFileName = \"/home/billywonka/Coding/Coursework/Ironhack/Week8-Project3/client/src/components/trips/TripIndex.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport './tripindex.css';\nimport AddTrip from '../trips/AddTrip.js';\nimport EditTrip from '../trips/EditTrip.js';\n\nclass TripIndex extends Component {\n  constructor(props) {\n    super(props);\n\n    this.changeEditing = whichNumber => {\n      this.setState({\n        editing: whichNumber\n      });\n    };\n\n    this.resetEdit = () => {\n      this.setState({\n        editing: false\n      });\n    };\n\n    this.deleteTrip = idOfTrip => {\n      axios.delete(\"\".concat(process.env.REACT_APP_BASE, \"/trips/\").concat(idOfTrip)).then(() => {\n        this.props.getData();\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.showTrips = () => {\n      if (!this.props.theUser) {\n        this.props.history.push('/');\n        return;\n      }\n\n      const myTrips = this.props.allTheTrips.filter(eachTrip => {\n        return eachTrip.owner === this.props.theUser._id;\n      });\n      return myTrips.map((trip, index) => {\n        if (this.state.editing !== index) {\n          return React.createElement(\"div\", {\n            key: trip._id,\n            className: \"trip-box1\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 50\n            },\n            __self: this\n          }, React.createElement(Link, {\n            to: \"/api/trips/\".concat(trip._id),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 51\n            },\n            __self: this\n          }, React.createElement(\"h3\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 52\n            },\n            __self: this\n          }, trip.title)), React.createElement(\"p\", {\n            style: {\n              maxWidth: '400px'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 54\n            },\n            __self: this\n          }, \" \", trip.description, \" \"), React.createElement(\"button\", {\n            onClick: () => {\n              this.changeEditing(index);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 56\n            },\n            __self: this\n          }, \" Edit \"), React.createElement(\"button\", {\n            onClick: () => {\n              this.deleteTrip(trip._id);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 57\n            },\n            __self: this\n          }, \" Delete \"));\n        } else {\n          return React.createElement(EditTrip, {\n            resetEditingSituation: this.resetEdit,\n            theTrip: trip,\n            getAllTheTripsInAppJS: this.props.getData,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 62\n            },\n            __self: this\n          });\n        }\n      });\n    };\n\n    this.state = {\n      editing: false\n    };\n  }\n\n  render() {\n    if (this.props.ready) return React.createElement(\"div\", {\n      className: \"trip-main\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"trip-column\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, this.showTrips(), React.createElement(\"div\", {\n      className: \"trip-box2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(AddTrip, {\n      getData: this.props.getData,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }))));else return React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"loading...\");\n  }\n\n}\n\nexport default TripIndex;","map":{"version":3,"sources":["/home/billywonka/Coding/Coursework/Ironhack/Week8-Project3/client/src/components/trips/TripIndex.js"],"names":["React","Component","axios","Link","AddTrip","EditTrip","TripIndex","constructor","props","changeEditing","whichNumber","setState","editing","resetEdit","deleteTrip","idOfTrip","delete","process","env","REACT_APP_BASE","then","getData","catch","err","console","log","showTrips","theUser","history","push","myTrips","allTheTrips","filter","eachTrip","owner","_id","map","trip","index","state","title","maxWidth","description","render","ready"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\n\nimport './tripindex.css';\n\nimport AddTrip from '../trips/AddTrip.js';\nimport EditTrip from '../trips/EditTrip.js';\n\n\nclass TripIndex extends Component {\n    constructor(props){\n        super(props)\n        this.state = {\n            editing: false,\n        }\n    }\n\n    changeEditing = (whichNumber) => {\n        this.setState({editing: whichNumber})\n    } \n\n    resetEdit = () =>{\n        this.setState({editing: false})\n    }\n\n    deleteTrip = (idOfTrip) =>{\n        axios.delete(`${process.env.REACT_APP_BASE}/trips/${idOfTrip}`)\n        .then(()=>{\n            this.props.getData();\n        })\n        .catch((err)=>{\n            console.log(err)\n        })\n    }\n\n    showTrips = () =>{\n        if(!this.props.theUser){\n            this.props.history.push('/')\n            return;\n        }\n\n        const myTrips = this.props.allTheTrips.filter((eachTrip)=>{\n            return eachTrip.owner === this.props.theUser._id;\n        })\n\n        return myTrips.map((trip, index) => {\n            if(this.state.editing !== index){\n                return (\n                    <div key={trip._id} className=\"trip-box1\">\n                        <Link to={`/api/trips/${trip._id}`}>\n                            <h3>{trip.title}</h3>\n                        </Link>\n                        <p style={{maxWidth: '400px'}}> {trip.description} </p>\n\n                        <button onClick={()=>{this.changeEditing(index)}}> Edit </button>\n                        <button onClick = {()=>{this.deleteTrip(trip._id)}}> Delete </button>\n                    </div>\n                )\n            } else {\n                return(\n                    <EditTrip \n                        resetEditingSituation = {this.resetEdit} \n                        theTrip = {trip}\n                        getAllTheTripsInAppJS = {this.props.getData}\n                    />\n                )\n            }\n        })    \n    }\n\n    render(){\n        if(this.props.ready)\n            return(\n                <div className=\"trip-main\">\n                    <div className=\"trip-column\">\n                        {this.showTrips()}\n                        <div className=\"trip-box2\">\n                            <AddTrip getData={this.props.getData}/>\n                        </div>\n                    </div>\n                </div>\n            )\n        else\n            return(<h3>loading...</h3>)\n    }\n}\n\n\nexport default TripIndex;"]},"metadata":{},"sourceType":"module"}